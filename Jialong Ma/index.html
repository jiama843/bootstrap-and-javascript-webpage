<!doctype html>
<html id="html">
<head>
    <meta charset="utf-8">
    <title>My Website</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/bootstrap-theme.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script src="http://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>   
    <script src="js/bootstrap.min.js"></script>
    <script src="js/rain.js"></script>
</head>
<body id = "body">
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
                <li>
                    <a onclick="scrollUp()">Back to Top</a>
                </li>
                <li>
                    <a onclick="startRain()">Toggle Rain</a>
                </li>
                <li>
                    <a onclick="stopRain()">Stop Rain</a>
                </li>
            </ul>
        </div>
    </nav>
    <div class="jumbotron" style="background-color:black;">
        <br>
    	<div class="col-lg-12">
    		<h1 style="color:lightgrey">Hello! I'm Jialong.</h1>
    	</div>
        <p style="color:lightgrey">Isn't bootstrap an amazing thing? It does all the formatting for you.</p>
    </div>
    <div class="row">
        <div class="col-xs-4" style="background-color:lightgrey;">
            <h2> Welcome to my home</h2>
            <p style="color:black">Here, the columns flow nicely and they're adjustable. I can even write this sentence and bootstrap will automatically wrap it on the next line.</p>
            <br>
            <div class="row">
                <br>
                <div class="col-xs-10" style="background-color:darkgrey;">
                    <h3>CS is fun</h3>
                    <p style="color:black">A current 1B computer science major at the University of Waterloo. Making the pieces and seeing it come together is one of the most gratifying parts in any project.</p>
                    <br>
                    <div class="row">
                        <br>
                        <div class="col-xs-10" style="background-color:grey;">
                            <h4>Lets go downstairs</h4>
                            <p style="color:black">You may have been wondering what the arrow on the right was for. Go ahead and Click it!</p>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xs-6">
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <div class="text-center" id="arrowelem">
                <img src="Pictures/DownArrow.png" class="img-fluid" alt="Responsive image" width="100" height="100" onclick="scrollDown('rainelem')">
            </div>
        </div>
    </div>
    <div class="row" style="background-color:grey">
        <br>
        <br>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="column-xs-12" id="rainelem" style="background-color:black">
            <br>
            <br>
            <br>
            <br>
            <h1 class="text-center" style="color:lightgrey">Do you like rain?</h1>
            <br>
            <p class="text-center" style="color:lightgrey" id="tired"> Go ahead and make it happen by clicking the Toggle Rain Button.</p>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
        </div>
    </div>
    <div id="end"></div>
    <script>
    function scrollDown(elemid){
        var myElement = document.getElementById(elemid);
        var rect = myElement.getBoundingClientRect();
        var countPX = 0;
        var scroll = setInterval(
            function(){
                window.scrollBy(0, 10);
                countPX += 10;
                if(countPX >= rect.top){
                    clearInterval(scroll);
                }
            }, 3);
    }
    function scrollUp(){
        //var myElement = document.getElementById("end");
        //var rect = myElement.getBoundingClientRect();
        var countPX = 4000;
        var scroll = setInterval(
            function(){
                window.scrollBy(0, -10);
                countPX -= 10;
                if(countPX <= 0){
                    clearInterval(scroll);
                }
            }, 3);
    }
    var repeatrain = true;
    function stopRain(){
        document.getElementById("tired").innerHTML = "Want it to rain some more? Go ahead and make it happen by clicking the Toggle Rain Button.";
        repeatrain = false;   
    }
    function startRain(){
        repeatrain = true;
        var dropspeed = [];
        var pos = [];
        var drops = document.getElementsByClassName("rain");
        var myElement = document.getElementById("rainelem");
        var len = drops.length;
        var rect = myElement.getBoundingClientRect();
        //var elem = document.getElementById("rain");
        for (var i = 0; i < len; i++) {
            pos[i] = 2100;
            dropspeed[i] = Math.random() * (10 - 1);
            drops[i].style.left = (Math.random() * (window.innerWidth - 0)) + 'px';
        }
        document.getElementById("tired").innerHTML = "Tired of the rain yet? It's ok. You can hit the Stop Rain button.";
        
        //while(repeatrain){
        var raindrops = setInterval(
            function(){
                if(repeatrain == false){
                    clearInterval(raindrops);
                }
                for(var i = 0; i < len; i++){
                    pos[i] += dropspeed[i];
                    drops[i].style.top = pos[i] + 'px';
                    if(pos[i] > 2500){
                        pos[i] = 2100;
                    }
                }
            }, 10);
        //}
    }
    /*function getRandomInt(min, max) {
        min = Math.ceil(min);
        max = Math.floor(max);
        return Math.floor(Math.random() * (max - min)) + min;
    }*/
    </script>
</body>
</html>
